{
    "$id": "character",
    "title": "5e Character Sheet",
    "description": "A 5e character sheet represented as a JSON file",
    "type": "object",
    "required": ["details", "current", "scores", "species", "background", "class", "inventory"],
    "properties": {
        "details": {
            "title": "Details",
            "description": "Information about your character",
            "type": "object",
            "required": ["name", "pronouns", "alignment", "avatar", "backstory", "personality", "organisations", "allies", "enemies"],
            "properties": {
                "name": {
                    "type": "string",
                    "default": ""
                },
                "pronouns": {
                    "type": "string",
                    "default": "they/them"
                },
                "alignment": {
                    "type": "string",
                    "enum": [
                        "lawful good",
                        "lawful neutral",
                        "lawful evil",
                        "neutral good",
                        "true neutral",
                        "neutral evil",
                        "chaotic good",
                        "chaotic neutral",
                        "chaotic evil"
                    ],
                    "default": "true neutral"
                },
                "avatar": {
                    "type": "string",
                    "default": "https://www.dndbeyond.com/avatars/35970/482/638265031649189109.jpeg"
                },
                "backstory": {
                    "type": "string",
                    "default": ""
                },
                "personality": {
                    "type": "object",
                    "required": ["traits", "ideals", "bonds", "flaws"],
                    "properties": {
                        "traits": {
                            "type": "string",
                            "default": ""
                        },
                        "ideals": {
                            "type": "string",
                            "default": ""
                        },
                        "bonds": {
                            "type": "string",
                            "default": ""
                        },
                        "flaws": {
                            "type": "string",
                            "default": ""
                        }
                    }
                },
                "organisations": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string",
                        "default": ""
                    },
                    "default": {
                        "organisation": ""
                    }
                },
                "allies": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string",
                        "default": ""
                    },
                    "default": {
                        "name": ""
                    }
                },
                "enemies": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string",
                        "default": ""
                    },
                    "default": {
                        "name": ""
                    }
                }
            }
        },
        "current": {
            "title": "Current",
            "description": "Aspects of the character which are changeable",
            "type": "object",
            "required": ["damage", "slots"],
            "properties": {
                "damage": {
                    "type": "number"
                },
                "slots": {
                    "type": "object",
                    "properties": {
                        "first": {
                            "type": "number"
                        },
                        "second": {
                            "type": "number"
                        },
                        "third": {
                            "type": "number"
                        },
                        "fourth": {
                            "type": "number"
                        },
                        "fifth": {
                            "type": "number"
                        },
                        "sixth": {
                            "type": "number"
                        },
                        "seventh": {
                            "type": "number"
                        },
                        "eighth": {
                            "type": "number"
                        },
                        "ninth": {
                            "type": "number"
                        }
                    }
                }
            }
        },
        "scores": {
            "title": "Base scores",
            "description": "Base character scores, before any modifiers",
            "type": "object",
            "required": ["str", "con", "dex", "int", "wis", "chr"],
            "properties": {
                "str": {
                    "type": "integer",
                    "default": 10
                },
                "con": {
                    "type": "integer",
                    "default": 10
                },
                "dex": {
                    "type": "integer",
                    "default": 10
                },
                "int": {
                    "type": "integer",
                    "default": 10
                },
                "wis": {
                    "type": "integer",
                    "default": 10
                },
                "chr": {
                    "type": "integer",
                    "default": 10
                }
            }
        },
        "species": {
            "title": "Species",
            "description": "What species (formerly race) is your character?",
            "type": "object",
            "required": ["name", "movement", "size"],
            "$ref": "advancement",
            "properties": {
                "name": {
                    "type": "string",
                    "default": "human"
                },
                "subtype": {
                    "type": "string"
                },
                "movement": {
                    "type": "object",
                    "required": ["walk"],
                    "properties": {
                        "walk": {
                            "type": "integer",
                            "default": 30
                        },
                        "burrow": {
                            "type": "integer",
                            "default": 0
                        },
                        "climb": {
                            "type": "integer",
                            "default": 0
                        },
                        "fly": {
                            "type": "integer",
                            "default": 0
                        },
                        "hover": {
                            "type": "integer",
                            "default": 0
                        },
                        "swim": {
                            "type": "integer",
                            "default": 0
                        }
                    }
                },
                "size": {
                    "title": "Size",
                    "description": "How large is your character?",
                    "type": "string",
                    "enum": [
                        "tiny",
                        "small",
                        "medium",
                        "large",
                        "huge",
                        "gargantuan"
                    ],
                    "default": "medium"
                }
            } 
        },
        "background": {
            "title": "Background",
            "description": "Advancements from your backstory",
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                }
            },
            "$ref": "advancement"
        },
        "class": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "required": ["name", "hitdie", "spellcasting", "levels"],
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "hitdie": {
                        "type": "integer",
                        "enum": [
                            4, 6, 8, 10, 12, 20
                        ],
                        "default": 8
                    },
                    "spellcasting": {
                        "type": "string",
                        "enum": [
                            "",
                            "str",
                            "con",
                            "dex",
                            "int",
                            "wis",
                            "chr"
                        ]
                    },
                    "levels": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "properties": {
                                "hitdie": {
                                    "type": "number"
                                }
                            },
                            "$ref": "advancement"
                        }
                    },
                    "subtype": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "advancements": {
                                "type": "array",
                                "items": {
                                    "$ref": "advancement"
                                }
                            }
                        }
                    }
                }
            }
        },
        "inventory": {
            "type": "object",
            "required": ["currency", "items"],
            "properties": {
                "currency": {
                    "type": "object",
                    "required": ["platinum", "gold", "electrum", "silver", "copper"],
                    "properties": {
                        "platinum": {
                            "type": "integer",
                            "default": 0
                        },
                        "gold": {
                            "type": "integer",
                            "default": 0
                        },
                        "electrum": {
                            "type": "integer",
                            "default": 0
                        },
                        "silver": {
                            "type": "integer",
                            "default": 0
                        },
                        "copper": {
                            "type": "integer",
                            "default": 0
                        }
                    }
                },
                "items": {
                    "type": "array",
                    "default": [],
                    "items": {
                        "$ref": "item"
                    }
                }
            }
        }
    }
}